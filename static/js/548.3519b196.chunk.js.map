{"version":3,"file":"static/js/548.3519b196.chunk.js","mappings":"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","sources":["webpack://cloudm/./src/components/header/index.module.scss?3922","components/header/index.tsx","store/menu-context.ts","webpack://cloudm/./src/components/menuitem/index.module.scss?a602","components/menuitem/MenuItem.tsx","webpack://cloudm/./src/components/menu/index.module.scss?c040","components/menu/index.tsx","assets/svg/SvgAlbum.tsx","assets/svg/SvgHome.tsx","assets/svg/SvgLike.tsx","assets/svg/SvgRank.tsx","assets/svg/SvgSinger.tsx","utils/menu.tsx","webpack://cloudm/./src/components/aside/index.module.scss?50e4","components/aside/index.tsx","assets/svg/SvgLeft.tsx","components/login/QrLogin.tsx","assets/svg/SvgRight.tsx","webpack://cloudm/./src/components/content/ctnheader/index.module.scss?a625","assets/svg/SvgNologin.tsx","webpack://cloudm/./src/components/content/ctnheader/other/index.module.scss?26f6","components/content/ctnheader/other/index.tsx","components/content/ctnheader/search/index.tsx","components/content/ctnheader/index.tsx","webpack://cloudm/./src/components/rootmark/index.module.scss?4b3a","components/rootmark/index.tsx","webpack://cloudm/./src/components/login/index.module.scss?19a7","components/login/index.tsx","components/RightComp/RightComp.tsx","webpack://cloudm/./src/components/content/index.module.scss?68af","components/content/index.tsx","webpack://cloudm/./src/views/discover/index.module.scss?ee27","views/discover/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Header\":\"header_Header__7UOvx\",\"titleWrapHd\":\"header_titleWrapHd__c90AC\",\"title2\":\"header_title2__ZRK-u\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 15:14:18\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-03 15:19:47\r\n * @FilePath: \\cloudm\\src\\components\\header\\index.tsx\r\n */\r\nimport React, { useContext, useEffect, useState } from 'react'\r\n\r\nimport globalContent from '@/store/global-content'\r\n\r\nimport classes from './index.module.scss'\r\n\r\nexport const Header = function() {\r\n  const { isLogined } = useContext(globalContent)\r\n\r\n  const [authorName, setAuthorName] = useState('用户')\r\n\r\n  useEffect(() => {\r\n    if (isLogined) {\r\n      setAuthorName(JSON.parse(localStorage.getItem('profile'))?.nickname)\r\n    } else {\r\n      setAuthorName('用户')\r\n    }\r\n  }, [isLogined])\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.Header}>\r\n        <div>\r\n          <img src=\"./image/logo.svg\" alt=\"\" />\r\n        </div>\r\n        <div className={classes.titleWrapHd}>\r\n          <div>Hello,{authorName}👏</div>\r\n          <div className={classes.title2}>Mcloud</div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-09 12:03:43\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 03:32:58\r\n * @FilePath: \\cloudm\\src\\store\\menu-context.ts\r\n */\r\nimport React from 'react'\r\n\r\nexport default React.createContext({\r\n  clickPend: (path: string) => null\r\n})\r\n","// extracted by mini-css-extract-plugin\nexport default {\"isactived\":\"menuitem_isactived__QifqB\",\"MenuItem\":\"menuitem_MenuItem__gtck9\",\"Icon\":\"menuitem_Icon__2PKeZ\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 13:47:17\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-04 13:54:42\r\n * @FilePath: \\cloudm\\src\\components\\menuitem\\MenuItem.tsx\r\n */\r\nimport React, { useContext } from 'react'\r\n\r\nimport MenuContext from '@/store/menu-context'\r\nimport { menuChildrenType } from '@/typings/'\r\n\r\nimport classes from './index.module.scss'\r\n\r\nexport default function MenuItem(props: menuChildrenType) {\r\n  const { path, label, icon, isactived, show } = props\r\n  const ctx = useContext(MenuContext)\r\n\r\n  return (\r\n    show\r\n      ? <div onClick={() => ctx.clickPend(path)} data-path={path} className={isactived ? classes.isactived + ' ' + classes.MenuItem : classes.MenuItem}>\r\n        < span className={classes.Icon} > {icon}</span >\r\n        <span>{label}</span>\r\n      </div >\r\n      : null\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Meun\":\"menu_Meun__bcrNy\",\"Label\":\"menu_Label__YeiVu\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 13:20:18\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-04 13:55:16\r\n * @FilePath: \\cloudm\\src\\components\\menu\\index.tsx\r\n */\r\nimport React, { useEffect, useState } from 'react'\r\n\r\nimport MenuItem from '@/components/menuitem/MenuItem'\r\nimport { menuChildrenType, menuListType } from '@/typings/'\r\n\r\nimport classes from './index.module.scss'\r\n\r\ninterface MenuProps extends menuListType {\r\n  childrenList: menuChildrenType[]\r\n}\r\n\r\nexport default function Meun(props: MenuProps) {\r\n  const { childrenList, label } = props\r\n\r\n  const [itemList, setNewItemList] = useState(childrenList)\r\n\r\n  useEffect(() => {\r\n    setNewItemList(childrenList)\r\n  }, [props])\r\n\r\n  return (\r\n    <div className={classes.Meun}>\r\n      <div className={classes.Label}>{label}</div>\r\n      {itemList.map(v => <MenuItem icon={v.icon} isactived={v.isactived} key={v.idx} label={v.label} path={v.path} show={v.show}></MenuItem>)}\r\n    </div >\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 15:03:09\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:41:24\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgAlbum.tsx\r\n */\r\nimport React from 'react'\r\n\r\nexport const SvgAlbum = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M150.588235 542.117647a30.117647 30.117647 0 1 1 60.235294 0 271.058824 271.058824 0 0 0 271.058824 271.058824 30.117647 30.117647 0 1 1 0 60.235294C298.917647 873.411765 150.588235 725.082353 150.588235 542.117647z m722.82353-60.235294a30.117647 30.117647 0 1 1-60.235294 0 271.058824 271.058824 0 0 0-271.058824-271.058824 30.117647 30.117647 0 1 1 0-60.235294c182.964706 0 331.294118 148.329412 331.294118 331.294118zM512 1024C229.225412 1024 0 794.774588 0 512S229.225412 0 512 0s512 229.225412 512 512-229.225412 512-512 512z m0-60.235294c249.494588 0 451.764706-202.270118 451.764706-451.764706 0-249.494588-202.270118-451.764706-451.764706-451.764706C262.505412 60.235294 60.235294 262.505412 60.235294 512c0 249.494588 202.270118 451.764706 451.764706 451.764706z m0-331.294118a120.470588 120.470588 0 1 1 0-240.941176 120.470588 120.470588 0 0 1 0 240.941176z m0-60.235294a60.235294 60.235294 0 1 0 0-120.470588 60.235294 60.235294 0 0 0 0 120.470588z\" fill=\"currentColor\"></path></svg>\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 13:39:33\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:41:50\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgHome.tsx\r\n */\r\nimport React from 'react'\r\n\r\nexport const SvgHome = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z\" fill=\"currentColor\"></path></svg>\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 15:10:37\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:42:36\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgLike.tsx\r\n */\r\nimport React from 'react'\r\n\r\nexport const SvgLike = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M512 923.76a96 96 0 0 1-67.84-27.76L144 595.68C32.88 484.4 28.64 302.56 134.8 190.4a288 288 0 0 1 412.96-5.76L584 220.96a32 32 0 1 1-45.28 45.28l-36.32-36.32a222.16 222.16 0 0 0-158.4-65.6h-3.2a222.4 222.4 0 0 0-160 70.16c-82.56 87.2-78.88 228.96 8 316l300 300a32 32 0 0 0 45.28 0l300.16-300.16a232.88 232.88 0 0 0 67.28-164.8 219.44 219.44 0 0 0-65.12-157.04 223.36 223.36 0 0 0-205.92-58.8 32 32 0 1 1-13.92-62.48 287.12 287.12 0 0 1 264.72 75.68 282.96 282.96 0 0 1 84.24 202.4A297.28 297.28 0 0 1 880 595.6L579.92 896a96 96 0 0 1-67.92 27.76z\" fill=\"currentColor\"></path>\r\n      <path d=\"M640 292.32a32 32 0 1 0 32 32 32 32 0 0 0-32-32z\" fill=\"currentColor\"></path>\r\n    </svg>\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 15:07:57\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:43:13\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgRank.tsx\r\n */\r\nimport React from 'react'\r\n\r\nexport const SvgRank = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M672 896c-17.6 0-32-14.4-32-32V192c0-17.6-14.4-32-32-32H416c-17.6 0-32 14.4-32 32v672c0 17.6-14.4 32-32 32s-32-14.4-32-32V192c0-52.8 43.2-96 96-96h192c52.8 0 96 43.2 96 96v672c0 17.6-14.4 32-32 32z\" fill=\"currentColor\"></path>\r\n      <path d=\"M864 928H160c-52.8 0-96-43.2-96-96V576c0-52.8 43.2-96 96-96h64c17.6 0 32 14.4 32 32s-14.4 32-32 32h-64c-17.6 0-32 14.4-32 32v256c0 17.6 14.4 32 32 32h704c17.6 0 32-14.4 32-32V384c0-17.6-14.4-32-32-32h-64c-17.6 0-32-14.4-32-32s14.4-32 32-32h64c52.8 0 96 43.2 96 96v448c0 52.8-43.2 96-96 96z\" fill=\"currentColor\"></path>\r\n    </svg>\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 15:05:54\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:44:55\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgSinger.tsx\r\n */\r\nimport React from 'react'\r\n\r\nexport const SvgSinger = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M321.693538 652.477046a31.468308 31.468308 0 0 0 43.80357-8.160492l30.688492-44.733046a31.507692 31.507692 0 0 0-8.160492-43.80357 31.491938 31.491938 0 0 0-43.80357 8.160493l-30.688492 44.733046a31.507692 31.507692 0 0 0 8.160492 43.803569z\" fill=\"currentColor\"></path><path d=\"M913.085046 925.971692c-234.2912-128.118154-373.240123-64.512-484.887631-13.390769-39.455508 18.061785-76.721231 35.1232-114.861292 42.818954-30.649108 6.175508-83.952246 10.704738-96.681354-28.435692-2.693908-8.270769-2.3552-17.581292-0.724677-26.379816l19.6608 13.122954a31.460431 31.460431 0 0 0 40.723693-4.930954l315.155692-344.237292c84.338215-6.002215 165.234215-48.592738 216.205785-122.895754 42.692923-62.227692 58.360123-137.176615 44.118646-211.022769-14.336-74.326646-57.186462-138.578708-120.650831-180.932923C600.8832-37.257846 423.132554-3.394954 334.926769 125.172185c-42.692923 62.235569-58.360123 137.176615-44.118646 211.022769a283.648 283.648 0 0 0 10.594462 39.360984l-203.642093 413.223385a31.491938 31.491938 0 0 0 10.775631 40.132923l52.279139 34.894769c-7.585477 20.976246-14.139077 51.759262-4.088124 82.652554 6.411815 19.715938 32.421415 76.098954 119.201477 76.091077 14.784985 0 31.342277-1.6384 49.860923-5.372061 45.276554-9.129354 87.646523-28.530215 128.622277-47.28517 109.079631-49.939692 221.861415-101.572923 428.425847 11.390031a31.507692 31.507692 0 0 0 42.763815-12.532184 31.515569 31.515569 0 0 0-12.516431-42.77957zM386.890831 160.815262c42.976492-62.637292 113.222892-96.421415 184.713846-96.421416a223.862154 223.862154 0 0 1 124.581415 37.698954c49.341046 32.925538 82.6368 82.802215 93.751139 140.453415 11.027692 57.170708-1.118523 115.207877-34.2016 163.438277-68.797046 100.281108-207.533292 126.629415-309.287385 58.722462-49.341046-32.925538-82.628923-82.802215-93.751138-140.453416-11.035569-57.170708 1.110646-115.207877 34.193723-163.438276z m-49.5616 284.396307a283.726769 283.726769 0 0 0 74.1376 71.916308 285.522708 285.522708 0 0 0 99.611569 41.913108l-262.978954 287.247753-81.589169-54.453169 170.818954-346.624z\" fill=\"currentColor\"></path></svg>\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 12:31:52\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-04 14:15:51\r\n * @FilePath: \\cloudm\\src\\utils\\menu.tsx\r\n */\r\nimport React from 'react'\r\n\r\nimport { SvgAlbum } from '@/assets/svg/SvgAlbum'\r\nimport { SvgHome } from '@/assets/svg/SvgHome'\r\nimport { SvgLike } from '@/assets/svg/SvgLike'\r\nimport { SvgRank } from '@/assets/svg/SvgRank'\r\nimport { SvgSinger } from '@/assets/svg/SvgSinger'\r\n\r\nexport const MenuList = [\r\n  {\r\n    idx: 0,\r\n    path: '',\r\n    label: '发现音乐',\r\n    children: [\r\n      { idx: '0-1', isactived: false, show: true, path: 'home', label: '首页', icon: <SvgHome /> },\r\n      { idx: '0-2', isactived: false, show: true, path: 'singer', label: '歌手', icon: <SvgSinger /> },\r\n      { idx: '0-3', isactived: false, show: true, path: 'album', label: '专辑', icon: <SvgAlbum /> },\r\n      { idx: '0-4', isactived: false, show: true, path: 'ranking', label: '排行', icon: <SvgRank /> },\r\n      { idx: '0-5', isactived: false, show: false, path: 'search', label: '搜索', icon: '' }\r\n    ]\r\n  },\r\n  {\r\n    idx: 1,\r\n    path: 'mine',\r\n    label: '我的音乐',\r\n    children: [\r\n      { idx: '1-1', isactived: false, show: true, path: 'like', label: '我喜欢的音乐', icon: <SvgLike /> },\r\n      { idx: '1-2', isactived: false, show: false, path: 'main', label: '我的主页', icon: '' }\r\n    ]\r\n  }\r\n]\r\n","// extracted by mini-css-extract-plugin\nexport default {\"asideContainer\":\"aside_asideContainer__9BpRq\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 15:53:24\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-04 14:22:54\r\n * @FilePath: \\cloudm\\src\\components\\aside\\index.tsx\r\n */\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\n\r\nimport { Header } from '@/components/header'\r\nimport Meun from '@/components/menu'\r\nimport MenuContext from '@/store/menu-context'\r\nimport { menuListType } from '@/typings/'\r\nimport { MenuList } from '@/utils/menu'\r\n\r\nimport classes from './index.module.scss'\r\n\r\nexport function Asidemc() {\r\n  const location = useLocation()\r\n\r\n  const [Menulist, setMenusData] = useState<menuListType[]>(MenuList)\r\n\r\n  const { pathname } = location\r\n  const navigate = useNavigate()\r\n  // 菜单列表\r\n\r\n  const clickPend = function(e: string): void {\r\n    const newData: menuListType[] = [...MenuList]\r\n\r\n    for (const i of newData) {\r\n      for (const n of i.children) {\r\n        n.isactived = n.path === e\r\n      }\r\n    }\r\n\r\n    setMenusData(newData)\r\n    navigate('/' + e)\r\n  }\r\n\r\n  // 只在页面加载时执行一次\r\n  useEffect(() => {\r\n    const p_ = pathname.replace(/\\//g, '')\r\n    const P2_ = p_ === '' ? 'home' : p_\r\n    clickPend(P2_)\r\n  }, [])\r\n\r\n  return (\r\n    <MenuContext.Provider value={{ clickPend }}>\r\n      <div className={classes.asideContainer}>\r\n        <Header />\r\n        {Menulist.map(v => <Meun childrenList={v.children} key={v.idx} label={v.label} />)}\r\n      </div>\r\n    </MenuContext.Provider>\r\n  )\r\n}\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 18:23:48\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:42:13\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgLeft.tsx\r\n */\r\nimport React from 'react'\r\n\r\nconst SvgLeft = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M670.954667 86.826667L269.44 488.362667a32 32 0 0 0-2.090667 42.965333l2.090667 2.282667L670.933333 935.168a8.533333 8.533333 0 0 0 6.037334 2.496h66.368a8.533333 8.533333 0 0 0 6.037333-14.570667L337.28 511.018667 749.397333 98.901333a8.533333 8.533333 0 0 0-6.037333-14.570666h-66.346667a8.533333 8.533333 0 0 0-6.058666 2.496z\" fill=\"currentColor\" ></path></svg>\r\n  )\r\n}\r\n\r\nexport default SvgLeft\r\n","import { useRequest } from 'ahooks'\r\nimport QRCode from 'qrcode.react'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\n\r\nimport { StylAnimateEnum } from '@/constants'\r\nimport { checkQrLoginStatus, createQrAPI, getQrKey } from '@/service/api'\r\nimport globalContent from '@/store/global-content'\r\nimport { QRType } from '@/typings/'\r\n\r\ninterface IQrLogin {\r\n  onAnimate: (e: StylAnimateEnum) => void\r\n}\r\n\r\nenum QrStatus {\r\n  Valid = 800,\r\n  Wait = 801,\r\n  WaitEnter = 802,\r\n  LoginSuccess = 803\r\n}\r\n\r\nconst QrMessage = {\r\n  [QrStatus.Valid]: '二维码失效',\r\n  [QrStatus.Wait]: '等待扫码',\r\n  [QrStatus.WaitEnter]: '待确认',\r\n  [QrStatus.LoginSuccess]: '授权登录成功'\r\n}\r\n\r\nconst QrLogin = (props: IQrLogin) => {\r\n  const { onAnimate } = props\r\n  const ctx = useContext(globalContent)\r\n\r\n  const [qrUrl, setQrUrl] = useState<string>()\r\n  const [qrStatus, setQrStatus] = useState()\r\n\r\n  const { data: qrData, run, cancel } = useRequest(checkQrLoginStatus, {\r\n    pollingInterval: 200\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (qrData) {\r\n      if (qrData?.code === QrStatus.LoginSuccess) {\r\n        cancel()\r\n\r\n        localStorage.setItem('Cookie', JSON.stringify(qrData.cookie))\r\n        ctx.isLogined = true\r\n        onAnimate(StylAnimateEnum.fadeOutDown)\r\n        ctx.setIsShowLogin(false)\r\n      }\r\n\r\n      setQrStatus(QrMessage[qrData?.code])\r\n    }\r\n  }, [qrData])\r\n\r\n  const getQrStatus = function(key: string) {\r\n    run({ key })\r\n  }\r\n\r\n  const getQrMessage = async function() {\r\n    const res = await getQrKey()\r\n\r\n    if (res?.data?.code === 200) {\r\n      const qrRes = await createQrAPI({ key: res.data.unikey }) as unknown as QRType\r\n      console.log(qrRes)\r\n      if (qrRes.code === 200) {\r\n        setQrUrl(qrRes.data?.qrurl)\r\n        getQrStatus(res.data.unikey)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getQrMessage()\r\n  }, [])\r\n  return (\r\n    <>\r\n      <div style={{ width: '100%', textAlign: 'center' }}>\r\n        {qrStatus}\r\n      </div>\r\n      {\r\n        qrUrl\r\n          ? <QRCode\r\n            value={qrUrl}\r\n            size={200}\r\n            fgColor=\"#000000\"\r\n          />\r\n          : '正在生成登录二维码,请稍等。'\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default QrLogin\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 18:25:00\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:44:12\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgRight.tsx\r\n */\r\nimport React from 'react'\r\n\r\nconst SvgRight = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M353.045333 86.826667L754.56 488.362667a32 32 0 0 1 2.090667 42.965333l-2.090667 2.282667L353.066667 935.168a8.533333 8.533333 0 0 1-6.037334 2.496h-66.368a8.533333 8.533333 0 0 1-6.037333-14.570667L686.72 511.018667 274.602667 98.901333a8.533333 8.533333 0 0 1 6.037333-14.570666h66.346667a8.533333 8.533333 0 0 1 6.058666 2.496z\" fill=\"currentColor\"></path></svg>\r\n  )\r\n}\r\n\r\nexport default SvgRight\r\n","// extracted by mini-css-extract-plugin\nexport default {\"CtnHeader\":\"ctnheader_CtnHeader__XVz6v\",\"LfWrap\":\"ctnheader_LfWrap__v8mLP\",\"noPage\":\"ctnheader_noPage__OvbS9\",\"OtherEle\":\"ctnheader_OtherEle__cLe5Y\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 20:48:32\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:45:50\r\n * @FilePath: \\cloudm\\src\\assets\\svg\\SvgNologin.tsx\r\n */\r\nimport React from 'react'\r\n\r\nconst SvgNologin = () => {\r\n  return (\r\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width='23' height='23'><path d=\"M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64z m0 64c-212.077 0-384 171.923-384 384s171.923 384 384 384 384-171.923 384-384-171.923-384-384-384z m222.338 424.444a276.316 276.316 0 0 1 16.99 26.004 274.91 274.91 0 0 1 18.722 39.46C781.868 648.984 788 682.097 788 716c0 19.882-16.118 36-36 36-19.683 0-35.677-15.797-35.995-35.405l-0.009-1.894c-0.153-24.666-4.672-48.662-13.243-71.199a202.911 202.911 0 0 0-13.82-29.126 204.317 204.317 0 0 0-12.563-19.228c-11.793-16.007-8.376-38.543 7.631-50.336 16.008-11.793 38.544-8.376 50.337 7.632zM512 192c88.366 0 160 71.634 160 160s-71.634 160-160 160l-0.092-0.001-2.234 0.014c-76.688 0.864-145.44 44.384-179.655 111.685C315.61 652.038 308 683.435 308 716c0 19.882-16.118 36-36 36s-36-16.118-36-36c0-43.97 10.318-86.54 29.837-124.932 28.852-56.751 75.901-101.016 132.39-126.576C369.647 435.595 352 395.858 352 352c0-88.366 71.634-160 160-160z m0 72c-48.601 0-88 39.399-88 88s39.399 88 88 88 88-39.399 88-88-39.399-88-88-88z\" fill='currentColor'></path></svg>\r\n  )\r\n}\r\n\r\nexport default SvgNologin\r\n","// extracted by mini-css-extract-plugin\nexport default {\"authorPic\":\"other_authorPic__--yZs\",\"OtherHdSvg\":\"other_OtherHdSvg__cbwVo\"};","\r\n/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 20:50:11\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-05 11:43:00\r\n * @FilePath: \\cloudm\\src\\components\\content\\ctnheader\\other\\index.tsx\r\n */\r\n\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport { Dropdown, Menu, Modal } from 'antd'\r\nimport React, { memo, useContext, useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport SvgNologin from '@/assets/svg/SvgNologin'\r\nimport { checkLoginStatus, Logout } from '@/service/api'\r\nimport globalContent from '@/store/global-content'\r\n\r\nimport classes from './index.module.scss'\r\n\r\nconst { confirm } = Modal\r\n\r\nconst layout = (callback) => {\r\n  confirm({\r\n    icon: <ExclamationCircleOutlined />,\r\n    content: '是否退出登录？',\r\n    onOk() {\r\n      localStorage.clear()\r\n      // 清除所有cookie函数\r\n      const cookies = document.cookie.split(';')\r\n      Logout()\r\n      for (let i = 0; i < cookies.length; i++) {\r\n        const cookie = cookies[i]\r\n        const eqPos = cookie.indexOf('=')\r\n        const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie\r\n        document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/'\r\n        document.cookie = 'cookieName=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/path; domain=localhost'\r\n      }\r\n\r\n      callback()\r\n    },\r\n    onCancel() {\r\n      console.log('Cancel')\r\n    }\r\n  })\r\n}\r\n\r\nconst menu = function(fn, navigate) {\r\n  return <Menu\r\n    items={[\r\n      {\r\n        key: '1',\r\n        label: (\r\n          <span onClick={() => navigate('/mine')}>我的主页</span>\r\n        )\r\n      },\r\n      {\r\n        key: '2',\r\n        label: (\r\n          <span onClick={() => layout(fn)}>退出登录</span>\r\n        )\r\n      }\r\n    ]}\r\n  />\r\n}\r\n\r\nconst OtherHd = () => {\r\n  const ctx = useContext(globalContent)\r\n  const navigate = useNavigate()\r\n  const [authorPic, setAuthorPic] = useState<string>('')\r\n\r\n  const getUserMessage = async function() {\r\n    const res = await checkLoginStatus()\r\n\r\n    if (res.data.code === 200 && res.data.profile && !document.cookie.split(';')?.[0]) {\r\n      if (!localStorage.getItem('profile')) {\r\n        localStorage.setItem('profile', JSON.stringify(res.data.profile))\r\n      }\r\n\r\n      ctx.setIsLogined(true)\r\n      setAuthorPic(res.data.profile?.avatarUrl)\r\n    } else {\r\n      ctx.setIsLogined(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserMessage()\r\n  }, [ctx.isLogined, ctx.isShowLogin])\r\n\r\n  return (\r\n    <div className={classes.OtherHd}>\r\n      {\r\n        ctx.isLogined\r\n          ? <Dropdown overlay={menu(() => ctx.setIsLogined(false), navigate)} placement=\"bottomLeft\" arrow>\r\n            <div className={classes.authorPic}>\r\n              <img src={authorPic} alt=\"\" />\r\n            </div>\r\n          </Dropdown>\r\n\r\n          : <div onClick={() => ctx.setIsShowLogin(true)} className={classes.OtherHdSvg}>\r\n            <SvgNologin /> 未登录\r\n          </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(OtherHd)\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 18:20:57\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-05 21:08:21\r\n * @FilePath: \\cloudm\\src\\components\\content\\ctnheader\\search\\index.tsx\r\n */\r\nimport { Select } from 'antd'\r\nimport debounce from 'lodash/debounce'\r\nimport React, { useState } from 'react'\r\n\r\n// import SvgSearch from '@/assets/svg/SvgSearch'\r\nimport { searchAccess } from '@/service/api'\r\nimport { searchResponse } from '@/typings/'\r\n\r\nconst { Option } = Select\r\n\r\ninterface searchOption {\r\n  id: string\r\n  name: string\r\n}\r\n\r\nconst fetch = async (value: string, callback: (data: searchOption[]) => void) => {\r\n  const params = {\r\n    keywords: value\r\n  }\r\n  const res = await searchAccess(params) as searchResponse\r\n\r\n  if (res.code === 200) {\r\n    const { result } = res\r\n    callback(result.songs)\r\n  }\r\n}\r\n\r\nconst SearchInput: React.FC<{ placeholder: string, style?: React.CSSProperties }> = props => {\r\n  const [data, setData] = useState<searchOption[]>([])\r\n  const [searchValue, setSearchValue] = useState<string>('')\r\n\r\n  const handleSearch = debounce((newValue: string) => {\r\n    if (newValue) {\r\n      fetch(newValue, setData)\r\n    } else {\r\n      setData([])\r\n    }\r\n  }, 500)\r\n\r\n  const handleChange = (newValue: string) => {\r\n    setSearchValue(newValue)\r\n  }\r\n\r\n  const options = data.map(option => <Option key={option.id}>{option.name}</Option>)\r\n\r\n  return (\r\n    <>\r\n      <Select\r\n        showSearch\r\n        value={searchValue}\r\n        style={{ width: 300 }}\r\n        placeholder={props.placeholder}\r\n        defaultActiveFirstOption={false}\r\n        filterOption={false}\r\n        onSearch={handleSearch}\r\n        onChange={handleChange}\r\n        notFoundContent={null}\r\n      >\r\n        {options}\r\n      </Select>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SearchInput\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-10 23:10:26\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-04 13:16:47\r\n * @FilePath: \\cloudm\\src\\components\\content\\ctnheader\\index.tsx\r\n */\r\nimport React, { memo } from 'react'\r\n\r\nimport SvgLeft from '@/assets/svg/SvgLeft'\r\nimport SvgRight from '@/assets/svg/SvgRight'\r\n\r\nimport classes from './index.module.scss'\r\nimport OtherHd from './other'\r\nimport SearchInput from './search'\r\n\r\nconst isHaveHistory = false\r\n\r\nconst CtnHeader = () => {\r\n  return (\r\n    <div className={classes.CtnHeader}>\r\n      <div className={classes.LfWrap}>\r\n        <button><SvgLeft /></button>\r\n        <button className={isHaveHistory ? '' : classes.noPage}><SvgRight /></button>\r\n      </div>\r\n      <div className={classes.Search}>\r\n        <SearchInput placeholder='请输入搜索的歌曲名称' />\r\n      </div>\r\n      <div className={classes.OtherEle}>\r\n        <OtherHd />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default memo(CtnHeader)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"rootmark\":\"rootmark_rootmark__jdE8p\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 21:35:45\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 11:25:16\r\n * @FilePath: \\cloudm\\src\\components\\rootmark\\index.tsx\r\n */\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport classes from './index.module.scss'\r\n\r\nconst rootMark = document.getElementById('root_mark')\r\n\r\ninterface RootMarkProps {\r\n  className?: string\r\n  children?: JSX.Element\r\n  [key: string]: any\r\n}\r\n\r\nexport const RootMark = (props: RootMarkProps) => {\r\n  return ReactDOM.createPortal(<div {...props} className={`${classes.rootmark} ${props.className}`}>\r\n    {props.children}\r\n  </div>, rootMark)\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"login\":\"login_login__NkBpq\",\"rootmarklogin\":\"login_rootmarklogin__GYa0T\",\"switchStyl\":\"login_switchStyl__MSgOV\",\"captcha\":\"login_captcha__eLoQ3\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 21:42:11\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-04 10:05:56\r\n * @FilePath: \\cloudm\\src\\components\\login\\index.tsx\r\n */\r\nimport React, { useContext, useState } from 'react'\r\n\r\nimport { StylAnimateEnum } from '@/constants'\r\nimport globalContent from '@/store/global-content'\r\n\r\nimport { RootMark } from '../rootmark'\r\n// import FormWrap from './from'\r\nimport classes from './index.module.scss'\r\nimport QrLogin from './QrLogin'\r\n\r\nconst Login = () => {\r\n  const ctx = useContext(globalContent)\r\n\r\n  const [stylAnimate, setStylAnimate] = useState<StylAnimateEnum>(StylAnimateEnum.fadeInDown)\r\n\r\n  const PreForm = function(e) {\r\n    e.stopPropagation()\r\n    e.nativeEvent.stopImmediatePropagation()\r\n  }\r\n\r\n  return (\r\n    <RootMark onClick={() => ctx.setIsShowLogin(false)} className={classes.rootmarklogin}>\r\n      <div className={classes.login + stylAnimate} onClick={PreForm}>\r\n        <QrLogin onAnimate={setStylAnimate} />\r\n        {/* <FormWrap onAnimate={setStylAnimate} /> */}\r\n      </div>\r\n    </RootMark>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-12 20:28:59\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-02 03:32:06\r\n * @FilePath: \\cloudm\\src\\components\\RightComp\\RightComp.tsx\r\n */\r\nimport React from 'react'\r\n\r\nconst RightComp = () => {\r\n  return (\r\n    <div>RightComp</div>\r\n  )\r\n}\r\n\r\nexport default RightComp\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Content\":\"content_Content__jxnQR\",\"MidContent\":\"content_MidContent__38rzH\",\"Lcont\":\"content_Lcont__BfA6j\",\"Rcont\":\"content_Rcont__uo3Sw\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-10 23:04:32\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-03 14:32:38\r\n * @FilePath: \\cloudm\\src\\components\\content\\index.Tsx\r\n */\r\nimport React, { useContext } from 'react'\r\n\r\nimport CtnHeader from '@/components/content/ctnheader'\r\nimport globalContent from '@/store/global-content'\r\n\r\nimport Login from '../login'\r\nimport RightComp from '../RightComp/RightComp'\r\nimport classes from './index.module.scss'\r\n\r\nconst Content = (props: { children: JSX.Element }) => {\r\n  const { children } = props\r\n\r\n  const { isShowLogin } = useContext(globalContent)\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.Content}>\r\n        <CtnHeader />\r\n        <div className={classes.MidContent}>\r\n          <div className={classes.Lcont}>\r\n            {children}\r\n          </div>\r\n          <div className={classes.Rcont}>\r\n            <RightComp />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isShowLogin ? <Login /> : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Content\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Discover\":\"discover_Discover__JdkmG\"};","/*\r\n * @Author: Harry\r\n * @Date: 2022-08-08 11:21:12\r\n * @LastEditors: harry\r\n * @Github: https://github.com/rr210\r\n * @LastEditTime: 2022-10-04 10:14:45\r\n * @FilePath: \\cloudm\\src\\views\\discover\\index.tsx\r\n */\r\nimport React, { memo, useEffect, useState } from 'react'\r\nimport { Outlet, useRoutes } from 'react-router-dom'\r\n\r\nimport { Asidemc } from '@/components/aside'\r\nimport Content from '@/components/content'\r\nimport routes from '@/router'\r\nimport GlobalContent from '@/store/global-content'\r\n\r\nimport classes from './index.module.scss'\r\n\r\nexport default memo(function Discover() {\r\n  const [isLogined, setIsLogined] = useState<boolean>(false)\r\n\r\n  const [isShowLogin, setIsShowLogin] = useState<boolean>(false)\r\n\r\n  const ele = useRoutes(routes)\r\n  console.log(ele)\r\n\r\n  useEffect(() => {\r\n    if (isLogined) {\r\n      setIsShowLogin(false)\r\n    }\r\n  }, [isLogined])\r\n\r\n  return (\r\n    <GlobalContent.Provider value={{ isShowLogin, isLogined, setIsShowLogin, setIsLogined }}>\r\n      <div className={classes.Discover}>\r\n        <Asidemc />\r\n        <Content>\r\n          <Outlet />\r\n        </Content>\r\n      </div>\r\n    </GlobalContent.Provider>\r\n  )\r\n})\r\n"],"names":["Header","isLogined","useContext","globalContent","useState","authorName","setAuthorName","useEffect","JSON","parse","localStorage","getItem","nickname","className","classes","src","alt","React","clickPend","path","MenuItem","props","label","icon","isactived","show","ctx","MenuContext","onClick","Meun","childrenList","itemList","setNewItemList","map","v","idx","SvgAlbum","viewBox","version","xmlns","d","fill","SvgHome","SvgLike","SvgRank","SvgSinger","MenuList","children","Asidemc","location","useLocation","Menulist","setMenusData","pathname","navigate","useNavigate","e","newData","i","n","p_","replace","value","QrStatus","width","height","confirm","menu","fn","items","key","callback","ExclamationCircleOutlined","content","onOk","clear","cookies","document","cookie","split","Logout","length","eqPos","indexOf","name","substr","onCancel","console","log","OtherHd","authorPic","setAuthorPic","getUserMessage","checkLoginStatus","res","data","code","profile","setIsLogined","setItem","stringify","avatarUrl","isShowLogin","overlay","placement","arrow","setIsShowLogin","memo","Option","fetch","params","keywords","searchAccess","result","songs","setData","searchValue","setSearchValue","handleSearch","debounce","newValue","options","option","id","showSearch","style","placeholder","defaultActiveFirstOption","filterOption","onSearch","onChange","notFoundContent","CtnHeader","rootMark","getElementById","RootMark","ReactDOM","QrMessage","Valid","Wait","WaitEnter","LoginSuccess","onAnimate","qrUrl","setQrUrl","qrStatus","setQrStatus","useRequest","checkQrLoginStatus","pollingInterval","qrData","run","cancel","StylAnimateEnum","getQrMessage","getQrKey","createQrAPI","unikey","qrRes","qrurl","textAlign","size","fgColor","stylAnimate","setStylAnimate","stopPropagation","nativeEvent","stopImmediatePropagation","ele","useRoutes","routes"],"sourceRoot":""}